{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/Git/vehicle_int/src/Components/WeatherInfo.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WeatherInfo() {\n  _s();\n\n  var _state$data, _state$data2, _state$data2$location, _state$data3, _state$data4, _state$data4$current, _state$data4$current$, _state$data5, _state$data5$current, _state$data5$current$;\n\n  const initialState = {\n    query: \"\",\n    data: []\n  };\n  const [state, setState] = useState(initialState);\n  const [loading, setLoading] = useState(false);\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const {\n    token\n  } = useContext(AuthContext);\n\n  const handleChange = e => {\n    setState({ ...state,\n      query: e.target.value\n    });\n  };\n\n  const handleSearch = () => {\n    setLoading(true);\n    axios({\n      method: \"get\",\n      baseURL: \"http://api.weatherapi.com/v1\",\n      url: \"/current.json\",\n      params: {\n        key: apiKey,\n        q: state.query || \"delhi\"\n      }\n    }).then(res => setState({ ...state,\n      data: res.data\n    })).then(error => console.log(error)).finally(() => setLoading(false));\n  }; // console.log(state);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"token is : \", token]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Weather Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Enter City Name..\",\n      value: state.query,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 22\n    }, this), (state === null || state === void 0 ? void 0 : (_state$data = state.data) === null || _state$data === void 0 ? void 0 : _state$data.location) && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: state === null || state === void 0 ? void 0 : (_state$data2 = state.data) === null || _state$data2 === void 0 ? void 0 : (_state$data2$location = _state$data2.location) === null || _state$data2$location === void 0 ? void 0 : _state$data2$location.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), (state === null || state === void 0 ? void 0 : (_state$data3 = state.data) === null || _state$data3 === void 0 ? void 0 : _state$data3.current) && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: state === null || state === void 0 ? void 0 : (_state$data4 = state.data) === null || _state$data4 === void 0 ? void 0 : (_state$data4$current = _state$data4.current) === null || _state$data4$current === void 0 ? void 0 : (_state$data4$current$ = _state$data4$current.condition) === null || _state$data4$current$ === void 0 ? void 0 : _state$data4$current$.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: state === null || state === void 0 ? void 0 : (_state$data5 = state.data) === null || _state$data5 === void 0 ? void 0 : (_state$data5$current = _state$data5.current) === null || _state$data5$current === void 0 ? void 0 : (_state$data5$current$ = _state$data5$current.condition) === null || _state$data5$current$ === void 0 ? void 0 : _state$data5$current$.icon,\n        alt: \"weathericon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WeatherInfo, \"p6OKd5PbcrM0jYk0E6nvH358UqA=\");\n\n_c = WeatherInfo;\nexport default WeatherInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"WeatherInfo\");","map":{"version":3,"sources":["/Users/home/Desktop/Git/vehicle_int/src/Components/WeatherInfo.jsx"],"names":["React","useContext","useState","axios","AuthContext","WeatherInfo","initialState","query","data","state","setState","loading","setLoading","apiKey","process","env","REACT_APP_API_KEY","token","handleChange","e","target","value","handleSearch","method","baseURL","url","params","key","q","then","res","error","console","log","finally","location","name","current","condition","text","icon"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\n\n\n\nfunction WeatherInfo() {\n\n  \n    const initialState={\n        query:\"\",\n        data:[]\n    }\n\n    const [state,setState]=useState(initialState);\n    const [loading,setLoading]=useState(false)\n    const apiKey=process.env.REACT_APP_API_KEY\n    const {token}=useContext(AuthContext)\n\n    const handleChange=(e)=>{\n        setState({...state,query:e.target.value})\n    }\n    const handleSearch=()=>{\n        setLoading(true)\n      axios({\n          method:\"get\",\n          baseURL:\"http://api.weatherapi.com/v1\",\n          url:\"/current.json\",\n          params:{\n              key:apiKey,\n              q:state.query || \"delhi\"\n          }\n      })\n      .then(res=>setState({...state,data:res.data}))\n      .then(error=>console.log(error))\n      .finally(()=>setLoading(false))\n    }\n    // console.log(state);\n  return (\n    <div>\n      <h2>token is : {token}</h2>\n        <h1>Weather Information</h1>\n        <input placeholder='Enter City Name..' value={state.query} onChange={handleChange}/>\n        <button onClick={handleSearch}>Search</button>\n        {loading  && <h3>Loading...</h3>}\n        {state?.data?.location && \n        <h2>{state?.data?.location?.name}</h2>}\n\n        {state?.data?.current &&\n        <div>\n        <h2>{state?.data?.current?.condition?.text}</h2>\n        <img src={state?.data?.current?.condition?.icon} alt=\"weathericon\"/>\n        </div>\n        }\n\n    </div>\n  )\n}\n\nexport default WeatherInfo"]},"metadata":{},"sourceType":"module"}